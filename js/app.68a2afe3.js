(function(e){function t(t){for(var a,s,i=t[0],c=t[1],l=t[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},r=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/language-learning-rpg/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("ecfe"),o=n.n(a);o.a},"0b1d":function(e,t,n){"use strict";var a=n("e11e"),o=n.n(a);o.a},1:function(e,t){},"12e6":function(e,t,n){"use strict";var a=n("3425"),o=n.n(a);o.a},1778:function(e,t,n){},2:function(e,t){},26265:function(e,t,n){"use strict";var a=n("5a4e"),o=n.n(a);o.a},"2b05":function(e,t,n){"use strict";var a=n("a07c"),o=n.n(a);o.a},3425:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container"},[e.$store.state.cards?n("div",[n("Menu"),"battle"==e.currentScene?n("Battle"):e._e(),"shop"==e.currentScene?n("Shop"):e._e(),"inventory"==e.currentScene?n("Inventory"):e._e(),"locations"==e.currentScene?n("Locations"):e._e(),"debug"==e.$store.state.currentScene?n("DebugPanel"):e._e()],1):n("div",[n("SelectDeck")],1)])])},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.$store.state.player.hp>0?n("div",{class:"battle-grid full-width "+e.battleAnimation,on:{animationend:function(t){return e.resetAnimations()}}},[n("div",[this.$store.state.currentEnemy?n("Enemy",{staticClass:"item3 half-width"}):e._e(),this.$store.state.currentLoot?n("Loot",{staticClass:"item3 half-width"}):e._e(),n("BattleLog",{staticClass:"item4"})],1),this.$store.state.previousAnswer?n("div",[n("Question",{staticClass:"item1 half-width"}),n("SelectAnswer",{staticClass:"item2 half-width"}),this.$store.state.currentLoot?n("div",{staticClass:"half-width"},[n("button",{staticClass:"button collect-loot half-width",on:{click:function(t){return e.$store.commit("collectLoot")}}},[e._v("collect loot")])]):e._e()],1):e._e()]):n("div",[n("p",[e._v("you dead buddy")])])])},i=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"enemy half-width"},[n("p",{staticClass:"enemy-name"},[e._v(e._s(e.currentEnemy.name))]),n("img",{class:"enemy-icon "+e.animation,attrs:{src:e.$store.state.publicPath+"icons/"+e.currentEnemy.image+".svg"},on:{animationend:function(t){return e.resetAnimations()}}}),n("b-progress",{attrs:{type:"is-success",max:e.currentEnemy.maxHp,value:e.currentEnemy.hp,"show-value":!0}},[e._v("hp: "+e._s(e.currentEnemy.hp)+"/"+e._s(e.currentEnemy.maxHp))])],1)},l=[],u={name:"HelloWorld",props:{msg:String},methods:{shake:function(){},resetAnimations:function(){var e=this.$store.state.animation;e.enemyHit=!1,e.enemyDodge=!1}},computed:{currentEnemy:function(){return this.$store.state.currentEnemy},animation:function(){return this.$store.state.animation.enemyHit?"shake-horizontal":this.$store.state.animation.enemyDodge?"slide-out-left":""}}},p=u,d=(n("8e99"),n("0c7c")),m=Object(d["a"])(p,c,l,!1,null,"081f2d92",null),f=m.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{staticClass:"loot wobble",attrs:{src:e.$store.state.publicPath+"/icons/chest.svg"}})])},h=[],y={name:"HelloWorld",props:{msg:String},methods:{shake:function(){}},computed:{loot:function(){return this.$store.state.currentLoot}}},b=y,g=(n("c58b"),Object(d["a"])(b,v,h,!1,null,"160780af",null)),_=g.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"question half-width"},[e._v(e._s(e.question))])])},k=[],C={name:"Question",props:{},computed:{question:function(){if(this.$store.state.currentCard)return this.$store.state.currentCard.front}}},$=C,x=(n("2b05"),Object(d["a"])($,w,k,!1,null,"e1b22eba",null)),S=x.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"answers half-width"},[n("div",{staticClass:"answers"},e._l(e.answers,(function(t,a){return n("div",{key:a},[e.$store.state.isShowAnswer?n("div",[t.isCorrect?n("button",{staticClass:"button answer-button correct-answer",attrs:{disabled:""}},[e._v(e._s(t.display))]):n("button",{staticClass:"button answer-button",attrs:{disabled:""}},[e._v(e._s(t.display))])]):n("div",[n("button",{staticClass:"button answer-button",on:{click:function(n){return e.onAnswer(t)}}},[e._v(e._s(t.display))])])])})),0),e.$store.state.isShowAnswer&&e.$store.state.currentEnemy?n("div",[n("button",{staticClass:"button next-turn",on:{click:function(t){return e.$store.commit("nextTurn")}}},[e._v("next turn")])]):e._e()])},L=[],A={name:"Answers",props:{},methods:{onAnswer:function(e){this.$store.commit("onAnswer",e)}},computed:{answers:function(){return this.$store.state.answers}}},O=A,D=(n("cbff"),Object(d["a"])(O,E,L,!1,null,"6a99b422",null)),T=D.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"battle-log half-width"},e._l(e.log,(function(t,a){return n("div",{key:a},[t.isRead?n("p",{staticClass:"read"},[e._v(e._s(t.content))]):n("div",{class:"unread "+e.animationClass,on:{animationend:function(t){e.animationTrigger=!1}}},[t.color?n("div",[n("p",{style:"color:"+t.color},[e._v(e._s(t.content))])]):n("p",[e._v(e._s(t.content))])])])})),0)},q=[],M=(n("fb6a"),n("2909")),H={name:"BattleLog",props:{msg:String},data:function(){return{animationTrigger:!1}},computed:{animationClass:function(){return this.animationTrigger?"scale-up-ver-center":""},log:function(){var e=Object(M["a"])(this.$store.state.gameLog);return e.reverse(),e.slice(0,5)}},watch:{log:function(){this.animationTrigger=!0}}},P=H,N=(n("0b1d"),Object(d["a"])(P,j,q,!1,null,"78f77f99",null)),R=N.exports,U={name:"Battle",props:{msg:String},components:{Enemy:f,SelectAnswer:T,BattleLog:R,Question:S,Loot:_},methods:{resetAnimations:function(){var e=this.$store.state.animation;e.playerHit=!1,e.playerDodge=!1}},computed:{battleAnimation:function(){return this.$store.state.animation.playerHit?"shake-horizontal":(this.$store.state.animation.playerDodge,"")}}},W=U,B=(n("d3eb"),Object(d["a"])(W,s,i,!1,null,"6c0713d0",null)),J=B.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shop"},[n("p",{staticClass:"shop-title"},[e._v("shop")]),n("div",{staticClass:"shop-weapons"},[n("p",{staticClass:"shop-category"},[e._v("weapons")]),e.hasWeapons?n("div",e._l(e.weapons,(function(t){return n("div",{key:t.id,staticClass:"shop-item"},[n("button",{staticClass:"button half-width",attrs:{disabled:t.price>e.$store.state.player.gold},on:{click:function(n){return e.buyWeapon(t.id)}}},[e._v(e._s(t.name)+": "+e._s(t.price)+" gold")])])})),0):n("p",[e._v("no new weapons")])]),n("div",{staticClass:"shop-armor"},[n("p",{staticClass:"shop-category"},[e._v("armors")]),e.hasArmors?n("div",e._l(e.armors,(function(t){return n("div",{key:t.id,staticClass:"shop-item"},[n("button",{staticClass:"button half-width",attrs:{disabled:t.price>e.$store.state.player.gold},on:{click:function(n){return e.buyArmor(t.id)}}},[e._v(e._s(t.name)+": "+e._s(t.price)+" gold")])])})),0):n("p",[e._v("no new armors")])])])},Q=[],I=(n("4de4"),{name:"Shop",props:{},computed:{weapons:function(){var e=this.$store.state.player.equipped.hand;return this.$store.state.master.weapons.filter((function(t){return 1!=t.id&&t.atk>e.atk}))},armors:function(){var e=this.$store.state.player.equipped.chest;return this.$store.state.master.armor.filter((function(t){return t.def>e.def}))},hasWeapons:function(){return this.weapons.length>0},hasArmors:function(){return this.armors.length>0}},methods:{buyWeapon:function(e){this.$store.commit("buyWeapon",e)},buyArmor:function(e){this.$store.commit("buyArmor",e)}}}),z=I,F=(n("8c6f"),Object(d["a"])(z,G,Q,!1,null,"26d24898",null)),K=F.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inventory"},[n("p",{staticClass:"inventory-title"},[e._v("equipped items")]),n("p",{staticClass:"inventory-item"},[n("strong",[e._v("hand:")]),e._v(" "+e._s(e.$store.state.player.equipped.hand.name)+" ")]),n("p",{staticClass:"inventory-item"},[n("strong",[e._v("chest:")]),e._v(" "+e._s(e.$store.state.player.equipped.chest.name)+" ")])])},V=[],X={name:"HelloWorld",props:{msg:String}},Z=X,ee=(n("7b67"),Object(d["a"])(Z,Y,V,!1,null,"86ea7754",null)),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"debug-panel full-width"},[n("div",{staticClass:"container"},[e.isDevelopmentMode?n("button",{staticClass:"button debug-button",on:{click:function(t){return e.addGold(20)}}},[e._v("add 20 gold")]):e._e(),e.isDevelopmentMode?n("button",{staticClass:"button debug-button",on:{click:function(t){return e.levelUp()}}},[e._v("level up")]):e._e(),n("button",{staticClass:"button debug-button",on:{click:function(t){return e.reset()}}},[e._v("reset game")])])])},ae=[],oe=(n("caad"),n("2532"),{name:"Question",props:{},data:function(){return{isDevelopmentMode:!1}},mounted:function(){this.isDevelopmentMode=window.location.href.includes("localhost")},computed:{},methods:{addGold:function(e){this.$store.commit("debugAddGold",e)},levelUp:function(){this.$store.commit("debugLevelUp")},reset:function(){this.$store.commit("reset")}}}),re=oe,se=(n("dc46"),Object(d["a"])(re,ne,ae,!1,null,"203e501d",null)),ie=se.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"locations"},[n("div",{staticClass:"locations"},e._l(e.locations,(function(t,a){return n("div",{key:a,staticClass:"location"},[n("button",{staticClass:"button location-button half-width",attrs:{disabled:e.$store.state.player.level<t.requiredLevel},on:{click:function(n){return e.onSelect(t)}}},[e._v(e._s(t.name))]),n("p",[e._v("required level: "+e._s(t.requiredLevel))])])})),0)])},le=[],ue={name:"locations",props:{},methods:{onSelect:function(e){this.$store.commit("goToLocation",e.id)}},computed:{locations:function(){return this.$store.state.master.locations}}},pe=ue,de=(n("e137"),Object(d["a"])(pe,ce,le,!1,null,"30a47646",null)),me=de.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar",[n("template",{slot:"brand"}),n("template",{slot:"start"},[n("b-navbar-item",[n("p",{class:e.levelClass,on:{animationend:function(t){e.$store.state.animation.levelUp=!1}}},[e._v("level: "+e._s(e.player.level))])]),n("b-navbar-item",[n("b-progress",{attrs:{type:"is-info",max:e.player.nextLevelExp,value:e.player.exp,"show-value":!0}},[e._v("exp: "+e._s(e.player.exp)+"/"+e._s(e.player.nextLevelExp))])],1),n("b-navbar-item",[e._v(" gold: "+e._s(e.player.gold)+" ")]),n("b-navbar-item",[n("b-progress",{attrs:{type:"is-success",max:e.player.maxHp,value:e.player.hp,"show-value":!0}},[e._v("hp: "+e._s(e.player.hp)+"/"+e._s(e.player.maxHp))])],1)],1),n("template",{slot:"end"},[n("b-navbar-item",{attrs:{active:"battle"==e.$store.state.currentScene},on:{click:function(t){e.$store.state.currentScene="battle"}}},[e._v("battle")]),n("b-navbar-item",{attrs:{active:"shop"==e.$store.state.currentScene},on:{click:function(t){e.$store.state.currentScene="shop"}}},[e._v("shop")]),n("b-navbar-item",{attrs:{active:"inventory"==e.$store.state.currentScene},on:{click:function(t){e.$store.state.currentScene="inventory"}}},[e._v("inventory")]),n("b-navbar-item",{attrs:{active:"locations"==e.$store.state.currentScene},on:{click:function(t){e.$store.state.currentScene="locations"}}},[e._v("locations")]),n("b-navbar-item",{attrs:{active:"debug"==e.$store.state.currentScene},on:{click:function(t){e.$store.state.currentScene="debug"}}},[e._v("other")])],1)],2)},ve=[],he={components:{},data:function(){return{}},computed:{player:function(){return this.$store.state.player},levelClass:function(){return this.$store.state.animation.levelUp?"pulsate-bck level":"level"}}},ye=he,be=(n("26265"),Object(d["a"])(ye,fe,ve,!1,null,"37a8c69b",null)),ge=be.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-decks"},[n("button",{staticClass:"button deck-button",on:{click:function(t){return e.loadDeck("spanish200.csv")}}},[e._v("spanish 200 words")]),n("br"),n("button",{staticClass:"button deck-button",on:{click:function(t){return e.loadDeck("korean-intermediate.csv")}}},[e._v("intermediate korean")]),n("hr"),n("p",[e._v("You can also load your own materials. Click button below to add your dataset (csv)")]),n("div",{staticClass:"upload-wrapper"},[n("b-field",{staticClass:"file is-primary",class:{"has-name":!!e.file}},[n("b-upload",{staticClass:"file-label",on:{input:function(t){return e.onFileUploaded()}},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}},[n("span",{staticClass:"file-cta"},[n("span",{staticClass:"file-label"},[e._v("Click to upload")])]),e.file?n("span",{staticClass:"file-name"},[e._v(e._s(e.file.name))]):e._e()])],1)],1),n("p",{staticClass:"howto"},[e._v("How to create custom dataset?")]),n("p",[e._v("Your dataset should be in csv format. The file you upload should look like this:")]),n("pre",{staticClass:"csv-example"},[e._v("front,back\n바꾸다,change\n어두운,dark\n공유하다,share\n낮잠,nap\n뚱뚱한,fat\n코를 골다,snore")])])},we=[],ke={name:"decks",props:{},data:function(){return{file:void 0}},methods:{loadDeck:function(e){this.$store.commit("loadDeck",e)},onFileUploaded:function(){this.$store.commit("loadCustomDeck",this.file)}},computed:{decks:function(){return this.$store.state.decks}}},Ce=ke,$e=(n("12e6"),Object(d["a"])(Ce,_e,we,!1,null,"21c57110",null)),xe=$e.exports,Se={name:"App",components:{Battle:J,Shop:K,Inventory:te,DebugPanel:ie,Locations:me,Menu:ge,SelectDeck:xe},methods:{},computed:{currentScene:function(){return this.$store.state.currentScene}},mounted:function(){}},Ee=Se,Le=(n("034f"),Object(d["a"])(Ee,o,r,!1,null,null,null)),Ae=Le.exports,Oe=n("289d"),De=(n("5abe"),n("99af"),n("7db0"),n("4160"),n("d3b7"),n("159b"),{expTable:[[10,2],[20,3],[40,4],[40,5],[65,6],[100,7],[130,8],[160,9],[210,10],[280,11],[400,12]],parameters:[{level:1,hp:20},{level:2,hp:25},{level:3,hp:35},{level:4,hp:45},{level:5,hp:60},{level:6,hp:70},{level:7,hp:80},{level:8,hp:90},{level:9,hp:105},{level:10,hp:115},{level:11,hp:130},{level:12,hp:140}],locations:[{id:1,name:"forest",requiredLevel:0,enemies:[1,2,3]},{id:2,name:"cementary",requiredLevel:5,enemies:[4,5,6]},{id:3,name:"hell",requiredLevel:10,enemies:[7,8,9]}],enemies:[{id:1,atk:5,hp:7,name:"bad gnome",image:"bad-gnome",exp:5,loot:[{type:"gold",amount:5}]},{id:2,atk:6,hp:9,name:"slime",image:"transparent-slime",exp:5,loot:[{type:"gold",amount:8}]},{id:3,atk:7,hp:12,name:"tree",image:"tree-face",exp:5,loot:[{type:"gold",amount:12}]},{id:4,atk:9,hp:20,name:"ghost",image:"ghost",exp:5,loot:[{type:"gold",amount:15}]},{id:5,atk:12,hp:25,name:"spectre",image:"spectre",exp:5,loot:[{type:"gold",amount:18}]},{id:6,atk:12,hp:25,name:"mummy",image:"mummy-head",exp:5,loot:[{type:"gold",amount:22}]},{id:7,atk:12,hp:25,name:"gooey demon",image:"gooey-daemon",exp:5,loot:[{type:"gold",amount:22}]},{id:8,atk:12,hp:25,name:"evil fork",image:"evil-fork",exp:5,loot:[{type:"gold",amount:25}]},{id:9,atk:12,hp:25,name:"imp",image:"imp-laugh",exp:5,loot:[{type:"gold",amount:30}]},{id:999,atk:12,hp:25,name:"evil book",image:"evil-book",exp:5,loot:[{type:"gold",amount:30}]}],weapons:[{id:1,name:"fist",atk:4,price:0},{id:2,name:"dagger",atk:10,price:40},{id:3,name:"sword",atk:16,price:90},{id:4,name:"big sword",atk:20,price:200},{id:5,name:"sword with teeth",atk:25,price:300},{id:6,name:"huge axe",atk:33,price:500},{id:7,name:"katana",atk:40,price:600}],armor:[{id:1,name:"shirt",def:0,price:0},{id:2,name:"leather shirt",def:2,price:40},{id:3,name:"thick leather shirt",def:3,price:90},{id:4,name:"metal armor",def:6,price:200},{id:5,name:"thick metal armor",def:8,price:300},{id:6,name:"magic armor",def:12,price:500},{id:7,name:"gold armor",def:20,price:600}],miscItems:[{name:"small-potion",itemType:"heal",heal:10}]}),Te=n("2f62"),je=n("5f35"),qe=n.n(je),Me=n("2410"),He=n.n(Me);a["a"].use(Te["a"]);var Pe=n("86ec");function Ne(e){var t,n,a;for(a=e.length-1;a>0;a--)t=Math.floor(Math.random()*(a+1)),n=e[a],e[a]=e[t],e[t]=n;return e}function Re(e,t,n){e.gameLog.push({content:t,isRead:!1,color:n})}function Ue(e){e.gameLog.forEach((function(e){return e.isRead=!0}))}var We="green",Be="red",Je={animation:{enemyHit:!1,playerHit:!1,levelUp:!1,playerDodge:!1,enemyDodge:!1},master:De,publicPath:qe.a.publicPath,answers:[],player:{hp:De.parameters[0].hp,maxHp:De.parameters[0].hp,gold:0,exp:0,level:1,nextLevelExp:De.expTable[0][0],equipped:{hand:De.weapons[0],chest:De.armor[0]}},gameLog:[],cards:void 0,currentEnemy:void 0,currentLoot:void 0,currentCard:void 0,currentLocation:1,isMyTurn:!0,isShowAnswer:!1,previousAnswer:{question:void 0,yourAnswer:void 0,correctAnswer:void 0,wasCorrect:void 0},currentScene:"battle"},Ge=new Te["a"].Store({state:He()(Je),mutations:{onAnswer:function(e,t){Ue(e);var n=e.previousAnswer,a=e.currentCard,o=t.display==a.back;n.question=a.front,n.correctAnswer=a.back,n.yourAnswer=t,n.wasCorrect=o,e.isMyTurn?this.attack(e):this.enemyAttack(e)},collectLoot:function(e){Ue(e),this.collectLoot(e)},buyWeapon:function(e,t){var n=e.master.weapons.find((function(e){return e.id==t}));console.log("bought weapon: weapon.name"),e.player.equipped.hand=n,e.player.gold-=n.price},buyArmor:function(e,t){var n=e.master.armor.find((function(e){return e.id==t}));e.player.equipped.chest=n,e.player.gold-=n.price},debugAddGold:function(e,t){e.player.gold+=t},debugLevelUp:function(e){var t=e.player.level+1,n=e.master.expTable.find((function(e){return e[1]==t}))[0];e.player.exp=n,this.updatePlayerLevel(e)},goToLocation:function(e,t){this.collectLoot(e),e.currentLocation=t,Ge.approachNewEnemy(e),e.currentScene="battle"},nextTurn:function(e){e.isShowAnswer=!1,Ge.loadNewCard(e),Ge.save(e)},reset:function(){this.reset()},loadDeck:function(e,t){Ge.loadDeck(e,t)},loadCustomDeck:function(e,t){Ge.loadCustomDeck(e,t)}}});function Qe(e){var t="";return e.forEach((function(e){"gold"==e.type&&(t+="".concat(e.amount," gold,"))})),t}Ge.save=function(e){var t=JSON.stringify(e);localStorage["progress"]=t},Ge.load=function(){var e=localStorage["progress"];if("undefined"!=e&&void 0!=e){var t=JSON.parse(e);Ge.replaceState(t)}},Ge.reset=function(){localStorage["progress"]=void 0,Ge.replaceState(He()(Je)),location.reload()},Ge.loadDeck=function(e,t){fetch("".concat(e.publicPath).concat(t)).then((function(e){return e.text()})).then((function(t){var n=Pe(t,{columns:!0,skip_empty_lines:!0});e.cards=n,console.log(e.cards),Ge.approachNewEnemy(e),Ge.loadNewCard(e)}))},Ge.loadCustomDeck=function(e,t){t.text().then((function(t){console.log(t);var n=Pe(t,{columns:!0,skip_empty_lines:!0});e.cards=n,console.log(e.cards),Ge.approachNewEnemy(e),Ge.loadNewCard(e)}))},Ge.enemyAttack=function(e){if(e.previousAnswer.wasCorrect)Re(e,"you have dodged the attack!",We),e.animation.playerDodge=!0;else{var t=e.currentEnemy.atk,n=e.player.equipped.chest.def,a=t-n;a<0&&(a=0),e.player.hp-=a,Re(e,"enemy hits you for ".concat(a," dmg"),Be),e.animation.playerHit=!0}e.isMyTurn=!e.isMyTurn,e.isShowAnswer=!0},Ge.updatePlayerLevel=function(e){var t=1;e.master.expTable.forEach((function(n){var a=n[0],o=e.player.exp;console.log("step: ".concat(a,", row ").concat(n,", exp:").concat(o)),o>=a&&(t=n[1])}));var n=e.player.level<t;if(console.log("updateplayerlevel"),n){console.log("levelup");var a=e.master.parameters.find((function(e){return e.level==t}));console.log(a),Re(e,"level up! new level: ".concat(t)),e.player.maxHp=a.hp,e.player.hp=a.hp,e.animation.levelUp=!0}e.player.level=t,e.player.nextLevelExp=e.master.expTable[t-1][0]},Ge.getRandomEnemy=function(e){var t=e.currentLocation,n=e.master.locations.find((function(e){return e.id==t})),a=n.enemies,o=a[a.length*Math.random()<<0],r=e.master.enemies.find((function(e){return e.id==o})),s=JSON.parse(JSON.stringify(r));return s.maxHp=s.hp,s},Ge.approachNewEnemy=function(e){Re(e,"you have approached new enemy!"),e.isShowAnswer=!1,e.currentEnemy=Ge.getRandomEnemy(e),e.isMyTurn=!0,Ge.loadNewCard(e)},Ge.getRandomCard=function(e){var t=e.cards;return t[t.length*Math.random()<<0]},Ge.loadNewCard=function(e){var t=Ge.getRandomCard(e);e.currentCard=t;var n=t.back,a=Ge.getRandomCard(e).back,o=Ge.getRandomCard(e).back,r=Ge.getRandomCard(e).back;e.answers=[{display:n,isCorrect:!0},{display:a,isCorrect:n==a},{display:o,isCorrect:n==o},{display:r,isCorrect:n==r}],Ne(e.answers)},Ge.onEnemyKilled=function(e){e.animation.enemyHit=!1,e.player.exp+=e.currentEnemy.exp,Ge.updatePlayerLevel(e);var t=e.currentEnemy.loot;e.currentEnemy=void 0,e.currentLoot=t;var n=Qe(t);Re(e,n)},Ge.attack=function(e){if(e.previousAnswer.wasCorrect){var t=e.player.equipped.hand,n=t.atk;Re(e,"you hit enemy for ".concat(n," damage"),We),e.currentEnemy.hp-=n,e.animation.enemyHit=!0}else Re(e,"you have missed",Be),e.animation.enemyDodge=!0;e.isShowAnswer=!0,e.isMyTurn=!e.isMyTurn,e.currentEnemy.hp<=0&&Ge.onEnemyKilled(e)},Ge.collectLoot=function(e){e.currentLoot&&(e.currentLocation,e.currentLoot.forEach((function(t){"gold"==t.type&&(e.player.gold+=t.amount)})),e.currentLoot=void 0),Ge.approachNewEnemy(e),Ge.save(e)},Ge.load();var Ie=Ge;a["a"].use(Oe["a"]),a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(Ae)},store:Ie}).$mount("#app")},"5a4e":function(e,t,n){},"5f35":function(e,t){e.exports={publicPath:"/language-learning-rpg/"}},"6eba":function(e,t,n){},"75f7":function(e,t,n){},"7b67":function(e,t,n){"use strict";var a=n("fc68"),o=n.n(a);o.a},"8c6f":function(e,t,n){"use strict";var a=n("75f7"),o=n.n(a);o.a},"8e99":function(e,t,n){"use strict";var a=n("de19"),o=n.n(a);o.a},"9f4b":function(e,t,n){},a07c:function(e,t,n){},a910:function(e,t,n){},c58b:function(e,t,n){"use strict";var a=n("1778"),o=n.n(a);o.a},cbff:function(e,t,n){"use strict";var a=n("a910"),o=n.n(a);o.a},d3eb:function(e,t,n){"use strict";var a=n("6eba"),o=n.n(a);o.a},dc46:function(e,t,n){"use strict";var a=n("ecd7"),o=n.n(a);o.a},de19:function(e,t,n){},e11e:function(e,t,n){},e137:function(e,t,n){"use strict";var a=n("9f4b"),o=n.n(a);o.a},ecd7:function(e,t,n){},ecfe:function(e,t,n){},fc68:function(e,t,n){}});
//# sourceMappingURL=app.68a2afe3.js.map